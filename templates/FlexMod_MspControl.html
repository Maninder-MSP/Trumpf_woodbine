<!doctype html>
<html lang="en">
    <head>
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
        <link rel="stylesheet" href="/static/FlexSystem.css">
    </head>
    <body>
        <nav class="navbar navbar-expand-md navbar-dark navbar-custom top-bar">
            <div class="navbar-collapse collapse w-100 order-1 order-md-0 dual-collapse2">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="">Flex-ESS HMI - Control</a>
                    </li>
                </ul>
            </div>
            <div class="mx-auto order-0">
                <a id="clock" class="navbar-brand mx-auto"></a>
            </div>
            <div class="navbar-collapse collapse w-100 order-3 dual-collapse2">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item active">
                        <a class="nav-link" id="home_button" href="/">Home</a>
                    </li>
                </ul>
            </div>
        </nav>

        <!-- Card 1 -->
        <section class="system-cards" style="padding-top: 2rem">
            <div id="ctrl_info" style="display: block">
                <div class="card">
                    <h5 class="card-header">Information</h5>
                    <div class="card-body">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <b>System</b>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <b>Control</b>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Name:
                                            </div>
                                            <div class="col-md-4">
                                                <span id="ctrl_name"></span>
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                System Enable:
                                            </div>
                                            <div class="col-md-4">
                                                <span id="ctrl_enable_echo"></span>
                                            </div>
                                            <div class="col-sm-2">
                                                <input id="ctrl_enable" name="ctrl_enable" value="" style="display: none">
                                            </div>
                                            <div class="col-sm-2">
                                                <button type="submit" id="ctrl_enable_set" name="ctrl_enable_set" class="btn btn-primary btn-sm" style="width:100%; padding:0px; border:0px;">Enable</button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Manufacturer:
                                            </div>
                                            <div class="col-md-4">
                                                <span id="ctrl_man"></span>
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Local/Remote:
                                            </div>
                                            <div class="col-md-4">
                                                <span id="ctrl_pilot_echo"></span>
                                            </div>
                                            <div class="col-sm-2">
                                                <input id="ctrl_pilot" name="ctrl_pilot" value="" style="display: none">
                                            </div>
                                            <div class="col-sm-2">
                                                <button type="submit" id="ctrl_pilot_set" name="ctrl_pilot_set" class="btn btn-primary btn-sm" style="width:100%; padding:0px; border:0px;">Local</button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Firmware Version:
                                            </div>
                                            <div class="col-md-4">
                                                <span id="ctrl_fwver"></span>
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                System Enable (After Boot):
                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">
                                                <select name="ctrl_boot_enable" id="ctrl_boot_enable" style="width:100%; text-align:center;">
                                                    <option value="Disabled">Disabled</option>
                                                    <option value="Enabled">Enabled</option>
                                                </select>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Serial Number:
                                            </div>
                                            <div class="col-md-4">
                                                <span id="ctrl_serno"></span>
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Local/Remote (After Boot):
                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">
                                                <select name="ctrl_boot_pilot" id="ctrl_boot_pilot" style="width:100%; text-align:center;">
                                                    <option value="Remote">Remote</option>
                                                    <option value="Local">Local</option>
                                                </select>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Connection State:
                                            </div>
                                            <div class="col-md-4">
                                                <span id="ctrl_constate"></span>
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                IP Address (Head):
                                            </div>
                                            <div class="col-md-4">
                                                <input type="text" id="ctrl_ipaddr_head" name="ctrl_ipaddr_head" value="0.0.0.0" style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">
<!--                                                <button type="submit" id="ctrl_ipaddr_head_set" name="ctrl_ipaddr_head_set" class="btn btn-primary btn-sm" style="width:100%; padding:0px; border:0px;">Set</button>-->
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                IP Address (Local):
                                            </div>
                                            <div class="col-md-4">
                                                <input type="text" id="ctrl_ipaddr_local" name="ctrl_ipaddr_local" value="0.0.0.0" style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">
<!--                                                <button type="submit" id="ctrl_ipaddr_head_set" name="ctrl_ipaddr_head_set" class="btn btn-primary btn-sm" style="width:100%; padding:0px; border:0px;">Set</button>-->
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="system-cards">
            <div id="ctrl_config" style="display: block">
                <div class="card">
                    <h5 class="card-header">Configuration</h5>
                    <div class="card-body">

                        <div class="container-fluid" id="control" style="display:none">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6 font-weight-bold" id="control_title">
                                                <b>Controller</b>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Project Name:
                                            </div>
                                            <div class="col-md-4">
                                                <input type="text" id="ctrl_project_name" name="ctrl_project_name" maxlength="12" value="CXP-00000" style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Build/Serial Number:
                                            </div>
                                            <div class="col-md-4">
                                                <input type="text" id="ctrl_build_serial" name="ctrl_build_serial" maxlength="9" value="0000/0000" style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Project Type:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_project_type" id="ctrl_project_type" style="width:100%; text-align:center;">
                                                    <option value="0">None</option>
                                                    <option value="1">Flex-ESS 75</option>
                                                    <option value="2">Flex-ESS 250</option>
                                                    <option value="3">Flex-ESS 500</option>
                                                    <option value="4">Flex-ESS 1000</option>
                                                    <option value="5">Flex-ESS Mobile</option>
                                                    <option value="6">Flex-ESS ID50</option>
                                                    <option value="7">Flex-ESS ID88</option>
                                                    <option value="8">Flex-ESS OD50</option>
                                                    <option value="9">Flex-ESS OD88</option>
                                                    <option value="10">Flex-ESS EV</option>
                                                    <option value="11">Flex-ESS Hithium</option>

                                                    <option value="20">Fleet</option>               // FSE Fleet Vehicle
                                                    <option value="21">Transit</option>             // Bess in transit, external mounted beacon
                                                    <option value="22">Site Ctrl</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Uptime:
                                            </div>
                                            <div class="col-md-4">
                                                <input type="text" id="ctrl_uptime" name="ctrl_uptime" value="00:00" style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-md-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Lat/Long:
                                            </div>
                                            <div class="col-md-2">
                                                <input type="text" id="ctrl_lat" name="ctrl_lat" value="54.214168" style="width:100%; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_long" name="ctrl_long" value="-2.741385" style="width:100%; text-align:center;">
                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                HMI Timeout (m):
                                            </div>
                                            <div class="col-md-2">
                                                <input type="text" id="ctrl_hmi_timeout" name="ctrl_hmi_timeout" value="5" style="width:100%; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Alert Email Timeout (s):
                                            </div>
                                            <div class="col-md-2">
                                                <input type="text" id="ctrl_email_timeout" name="ctrl_email_timeout" value="5" style="width:100%; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <u>System Thermal Limits</u>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <u>Inverter Thermal Limits</u>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Warning temp Min/Max (°C):
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_warning_temp_min" id="ctrl_warning_temp_min">
                                                    <option>0</option>
                                                </select>
                                                /
                                                <select name="ctrl_warning_temp_max" id="ctrl_warning_temp_max">
                                                    <option>0</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Warning temp Min/Max (°C):
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_inverter_warning_temp_min" id="ctrl_inverter_warning_temp_min">
                                                    <option>0</option>
                                                </select>
                                                /
                                                <select name="ctrl_inverter_warning_temp_max" id="ctrl_inverter_warning_temp_max">
                                                    <option>0</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Alarm temp Min/Max (°C):
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_alarm_temp_min" id="ctrl_alarm_temp_min">
                                                    <option>0</option>
                                                </select>
                                                /
                                                <select name="ctrl_alarm_temp_max" id="ctrl_alarm_temp_max">
                                                    <option>0</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Alarm temp Min/Max (°C):
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_inverter_alarm_temp_min" id="ctrl_inverter_alarm_temp_min">
                                                    <option>0</option>
                                                </select>
                                                /
                                                <select name="ctrl_inverter_alarm_temp_max" id="ctrl_inverter_alarm_temp_max">
                                                    <option>0</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Fault temp Min/Max (°C):
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_fault_temp_min" id="ctrl_fault_temp_min">
                                                    <option>0</option>
                                                </select>
                                                /
                                                <select name="ctrl_fault_temp_max" id="ctrl_fault_temp_max">
                                                    <option>0</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Fault temp Min/Max (°C):
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_inverter_fault_temp_min" id="ctrl_inverter_fault_temp_min">
                                                    <option>0</option>
                                                </select>
                                                /
                                                <select name="ctrl_inverter_fault_temp_max" id="ctrl_inverter_fault_temp_max">
                                                    <option>0</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                        </div>

                        <div class="container-fluid" id="battery" style="display:none">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6 font-weight-bold" id="battery_title">
                                                Battery
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Cell Voltage High Disable (V):
                                            </div>
                                            <div class="col-md-4">
                                                <input type="text" id="ctrl_cell_hi_disable_voltage" name="ctrl_cell_hi_disable_voltage" value="0" style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">
<!--                                                <button type="submit" id="ctrl_battery_disable_soc_set" name="ctrl_battery_disable_soc_set" class="btn btn-primary btn-sm" style="width:100%; padding:0px; border:0px;">Set</button>-->
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Cell Voltage High Alert (V):
                                            </div>
                                            <div class="col-md-4">
                                                <input type="text" id="ctrl_cell_hi_alert_voltage" name="ctrl_cell_hi_alert_voltage" value="0" style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Cell Voltage Low Disable (V):
                                            </div>
                                            <div class="col-md-4">
                                                <input type="text" id="ctrl_cell_lo_disable_voltage" name="ctrl_cell_lo_disable_voltage" value="0" style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Cell Voltage Low Alert (V):
                                            </div>
                                            <div class="col-md-4">
                                                <input type="text" id="ctrl_cell_lo_alert_voltage" name="ctrl_cell_lo_alert_voltage" value="0" style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Cell Temperature High Disable (°C):
                                            </div>
                                            <div class="col-md-4">
                                                <input type="text" id="ctrl_cell_hi_disable_temp" name="ctrl_cell_hi_disable_temp" value="0" style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Cell Temperature High Alert (°C):
                                            </div>
                                            <div class="col-md-4">
                                                <input type="text" id="ctrl_cell_hi_alert_temp" name="ctrl_cell_hi_alert_temp" value="0" style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                        </div>

                        <div class="container-fluid" id="inverter" style="display:none">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6 font-weight-bold" id="inverter_title">
                                                Inverter
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 No Configuration
                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                        </div>

                        <div class="container-fluid" id="ac_meter" style="display:none">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6 font-weight-bold" id="ac_meter_title">
                                                AC Meter
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 No Configuration
                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                        </div>

                        <div class="container-fluid" id="dc_meter" style="display:none">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6 font-weight-bold" id="dc_meter_title">
                                                DC Meter
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 No Configuration
                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                        </div>

                        <div class="container-fluid" id="dig_io" style="display:none">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6 font-weight-bold" id="dig_io_title">
                                                Digital IO
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <u>Digital Inputs</u>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Remote Start:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_remote_start_ip" id="ctrl_remote_start_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_remote_start_state" name="ctrl_remote_start_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Door Switch:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_door_switch_ip" id="ctrl_door_switch_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_door_switch_state" name="ctrl_door_switch_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Smoke Alarm Active:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_smoke_alarm_ip" id="ctrl_smoke_alarm_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_smoke_alarm_state" name="ctrl_smoke_alarm_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                System Healthy:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_system_healthy_ip" id="ctrl_system_healthy_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_system_healthy_state" name="ctrl_system_healthy_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Thermal Warning Switch:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_thermal_warning_switch_ip" id="ctrl_thermal_warning_switch_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_thermal_warning_switch_state" name="ctrl_thermal_warning_switch_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Thermal Alarm Switch:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_thermal_alarm_switch_ip" id="ctrl_thermal_alarm_switch_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_thermal_alarm_switch_state" name="ctrl_thermal_alarm_switch_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                EFM Alarm:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_efm_alarm_ip" id="ctrl_efm_alarm_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_efm_alarm_state" name="ctrl_efm_alarm_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Gas Pressure Healthy:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_gas_pressure_low_ip" id="ctrl_gas_pressure_low_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_gas_pressure_low_state" name="ctrl_gas_pressure_low_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                UPS Fault:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_ups_fault_ip" id="ctrl_ups_fault_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_ups_fault_state" name="ctrl_ups_fault_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Neutral and Earth Contactor:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_neutral_and_earth_ip" id="ctrl_neutral_and_earth_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_neutral_and_earth_state" name="ctrl_neutral_and_earth_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 Li-Ion Tamer Alarm Any:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_li_ion_alarm_any_ip" id="ctrl_li_ion_alarm_any_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_li_ion_alarm_any_state" name="ctrl_li_ion_alarm_any_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 Li-Ion Tamer Sensor Error:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_li_ion_sensor_error_ip" id="ctrl_li_ion_sensor_error_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_li_ion_sensor_error_state" name="ctrl_li_ion_sensor_error_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 Li-Ion Tamer System Alarm:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_li_ion_system_alarm_ip" id="ctrl_li_ion_system_alarm_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_li_ion_system_alarm_state" name="ctrl_li_ion_system_alarm_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 TX Temp 60°C:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_tx_temp_60deg_ip" id="ctrl_tx_temp_60deg_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_tx_temp_60deg_state" name="ctrl_tx_temp_60deg_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 TX Temp 75°C:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_tx_temp_75deg_ip" id="ctrl_tx_temp_75deg_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_tx_temp_75deg_state" name="ctrl_tx_temp_75deg_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 TX Temp 100°C:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_tx_temp_100deg_ip" id="ctrl_tx_temp_100deg_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_tx_temp_100deg_state" name="ctrl_tx_temp_100deg_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 Top Damper Open:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_top_damper_ip" id="ctrl_top_damper_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_top_damper_state" name="ctrl_top_damper_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 Bottom Damper Open:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_bottom_dampers_ip" id="ctrl_bottom_dampers_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_bottom_dampers_state" name="ctrl_bottom_dampers_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 TX Fans On:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_tx_fans_on_ip" id="ctrl_tx_fans_on_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_tx_fans_on_state" name="ctrl_tx_fans_on_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 3ph Contactor Healthy:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_3ph_cont_healthy_ip" id="ctrl_3ph_cont_healthy_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_3ph_cont_healthy_state" name="ctrl_3ph_cont_healthy_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 TX Pressure Release:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_tx_pressure_release_ip" id="ctrl_tx_pressure_release_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_tx_pressure_release_state" name="ctrl_tx_pressure_release_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 TX Gas Warning:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_tx_gas_warning_ip" id="ctrl_tx_gas_warning_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_tx_gas_warning_state" name="ctrl_tx_gas_warning_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 TX Pressure Warning:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_tx_pressure_warning_ip" id="ctrl_tx_pressure_warning_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_tx_pressure_warning_state" name="ctrl_tx_pressure_warning_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <u>Digital Outputs</u>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                System Enable:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_system_enable_op" id="ctrl_system_enable_op" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_system_enable_state" name="ctrl_system_enable_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                System Enable Test:
                                            </div>
                                            <div class="col-md-4">
                                                <!-- This is simply something that ends up in the form data when the button is pressed. -->
                                                <input id="ctrl_system_enable_test" name="ctrl_system_enable_test" value="" style="display: none">
                                            </div>
                                            <div class="col-sm-2">
                                                <button type="submit" id="ctrl_system_enable_button" class="btn btn-primary btn-sm" style="width:100%; padding:0px; border:0px;">Test</button>
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Smoke Reset:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_smoke_reset_op" id="ctrl_smoke_reset_op" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_smoke_reset_state" name="ctrl_smoke_reset_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Smoke Reset Test:
                                            </div>
                                            <div class="col-md-4">
                                                <!-- This is simply something that ends up in the form data when the button is pressed. -->
                                                <input id="ctrl_smoke_reset_test" name="ctrl_smoke_reset_test" value="" style="display: none">
                                            </div>
                                            <div class="col-sm-2">
                                                <button type="submit" id="ctrl_smoke_reset_button" class="btn btn-primary btn-sm" style="width:100%; padding:0px; border:0px;">Test</button>
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Gas Release:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_gas_release_op" id="ctrl_gas_release_op" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_gas_release_state" name="ctrl_gas_release_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Gas Release Test:
                                            </div>
                                            <div class="col-md-4">
                                                <!-- This is simply something that ends up in the form data when the button is pressed. -->
                                                <input id="ctrl_gas_release_test" name="ctrl_gas_release_test" value="" style="display: none">
                                            </div>
                                            <div class="col-sm-2">
                                                <button type="submit" id="ctrl_gas_release_button" class="btn btn-primary btn-sm" style="width:100%; padding:0px; border:0px;">Test</button>
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                System Fault:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_system_fault_op" id="ctrl_system_fault_op" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_system_fault_state" name="ctrl_system_fault_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                System Fault Test:
                                            </div>
                                            <div class="col-md-4">
                                                <!-- This is simply something that ends up in the form data when the button is pressed. -->
                                                <input id="ctrl_system_fault_test" name="ctrl_system_fault_test" value="" style="display: none">
                                            </div>
                                            <div class="col-sm-2">
                                                <button type="submit" id="ctrl_system_fault_button" class="btn btn-primary btn-sm" style="width:100%; padding:0px; border:0px;">Test</button>
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Neutral and Earth Contactor:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_earth_and_neutral_op" id="ctrl_earth_and_neutral_op" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_earth_and_neutral_state" name="ctrl_earth_and_neutral_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Neutral and Earth Contactor Test:
                                            </div>
                                            <div class="col-md-4">
                                                <!-- This is simply something that ends up in the form data when the button is pressed. -->
                                                <input id="ctrl_earth_and_neutral_test" name="ctrl_earth_and_neutral_test" value="" style="display: none">
                                            </div>
                                            <div class="col-sm-2">
                                                <button type="submit" id="ctrl_earth_and_neutral_button" class="btn btn-primary btn-sm" style="width:100%; padding:0px; border:0px;">Test</button>
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Internal Lighting:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_internal_lighting_op" id="ctrl_internal_lighting_op" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_internal_lighting_state" name="ctrl_internal_lighting_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Internal Lighting Test:
                                            </div>
                                            <div class="col-md-4">
                                                <!-- This is simply something that ends up in the form data when the button is pressed. -->
                                                <input id="ctrl_internal_lighting_test" name="ctrl_internal_lighting_test" value="" style="display: none">
                                            </div>
                                            <div class="col-sm-2">
                                                <button type="submit" id="ctrl_internal_lighting_button" class="btn btn-primary btn-sm" style="width:100%; padding:0px; border:0px;">Test</button>
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                        </div>

                        <div class="container-fluid" id="ana_io" style="display:none">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6 font-weight-bold" id="ana_io_title">
                                                Analogue IO
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <u>Analogue Inputs</u>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Inlet Temp 1 (°C):
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_inlet_temp_1_ip" id="ctrl_inlet_temp_1_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_inlet_temp_1_state" name="ctrl_inlet_temp_1_state" readonly="readonly" value="0" style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Inlet Temp 2 (°C):
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_inlet_temp_2_ip" id="ctrl_inlet_temp_2_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_inlet_temp_2_state" name="ctrl_inlet_temp_2_state" readonly="readonly" value="0" style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Inlet Temp 3 (°C):
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_inlet_temp_3_ip" id="ctrl_inlet_temp_3_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_inlet_temp_3_state" name="ctrl_inlet_temp_3_state" readonly="readonly" value="0" style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Inlet Temp 4 (°C):
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_inlet_temp_4_ip" id="ctrl_inlet_temp_4_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_inlet_temp_4_state" name="ctrl_inlet_temp_4_state" readonly="readonly" value="0" style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Inlet Temp 5 (°C):
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_inlet_temp_5_ip" id="ctrl_inlet_temp_5_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_inlet_temp_5_state" name="ctrl_inlet_temp_5_state" readonly="readonly" value="0" style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Inlet Temp 6 (°C):
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_inlet_temp_6_ip" id="ctrl_inlet_temp_6_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_inlet_temp_6_state" name="ctrl_inlet_temp_6_state" readonly="readonly" value="0" style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                        </div>

                        <div class="container-fluid" id="mixed_io" style="display:none">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6 font-weight-bold" id="mixed_io_title">
                                                Mixed IO
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 No Configuration
                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                        </div>

                        <div class="container-fluid" id="switch" style="display:none">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6 font-weight-bold" id="switch_title">
                                                Switch
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 No Configuration
                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                        </div>

                        <div class="container-fluid" id="li-ion" style="display:none">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6 font-weight-bold" id="li-ion_title">
                                                Li-Ion Tamer
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 No Configuration
                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                        <br>
                        <div class="container-fluid" id="dcdc" style="display:none">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6 font-weight-bold" id="dcdc_title">
                                                DC-DC
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 No Configuration
                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                        </div>

                        <div class="container-fluid" id="aircon" style="display:none">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6 font-weight-bold" id="aircon_title">
                                                Air Conditioning
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Temperature Setpoint (°C):
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_aircon_temp_setpoint" id="ctrl_aircon_temp_setpoint" style="width:100%; padding:0px; text-align:center;">
                                                    <option>0</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                        </div>

                        <div class="container-fluid" id="sensor" style="display:none">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6 font-weight-bold" id="sensor_title">
                                                Sensor
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 No Configuration
                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                        </div>

                        <div class="container-fluid" id="fuel_cell" style="display:none">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6 font-weight-bold" id="fuel_cell_title">
                                                Fuel Cell
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 No Configuration
                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                        </div>

                        <div class="container-fluid" id="ac_gen" style="display:none">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6 font-weight-bold" id="ac_gen_title">
                                                AC Generator
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                  Enable Min/Max SoC (%):
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ac_gen_soc_min" id="ac_gen_soc_min">
                                                    <option>20</option>
                                                </select>
                                                /
                                                <select name="ac_gen_soc_max" id="ac_gen_soc_max">
                                                    <option>90</option>-->
                                                </select>
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <br>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                  <u>Outputs</u>
                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                  Generator Start:
                                            </div>
                                            <div class="col-md-4">
                                               <select name="ac_gen_enable_op" id="ac_gen_enable_op" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ac_gen_enable_op_state" name="ac_gen_enable_op_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Enable:
                                            </div>
                                            <div class="col-md-4">
                                                <input id="ac_gen_enable_test" name="ac_gen_enable_test" value="" style="display: none">
                                            </div>
                                            <div class="col-sm-2">
                                                <button type="submit" id="ac_gen_enable_button" name="ac_gen_enable_button" class="btn btn-primary btn-sm" style="width:100%; padding:0px; border:0px;">Test</button>
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                        </div>

                        <div class="container-fluid" id="ac_wind" style="display:none">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6 font-weight-bold" id="ac_wind_title">
                                                AC Wind
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 No Configuration
                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                        </div>

                        <div class="container-fluid" id="ac_solar" style="display:none">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6 font-weight-bold" id="ac_solar_title">
                                                AC Solar
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                  Enable Min/Max SoC (%):
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ac_solar_soc_min" id="ac_solar_soc_min">
                                                    <option>20</option>
                                                </select>
                                                /
                                                <select name="ac_solar_soc_min" id="ac_solar_soc_max">
                                                    <option>90</option>-->
                                                </select>
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                  <u>Outputs</u>
                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                  Enable Inverter:
                                            </div>
                                            <div class="col-md-4">
                                               <select name="ac_solar_enable_op" id="ac_solar_enable_op" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ac_solar_enable_op_state" name="ac_solar_enable_op_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                Enable:
                                            </div>
                                            <div class="col-md-4">
                                                <input id="ac_solar_enable_test" name="ac_solar_enable_test" value="" style="display: none">
                                            </div>
                                            <div class="col-sm-2">
                                                 <button type="submit" id="ac_solar_enable_button" name="ac_solar_enable_button" class="btn btn-primary btn-sm" style="width:100%; padding:0px; border:0px;">Test</button>
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                        </div>

                        <div class="container-fluid" id="dc_solar" style="display:none">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6 font-weight-bold" id="dc_solar_title">
                                                DC Solar
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 No Configuration
                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                        </div>

                        <div class="container-fluid" id="ac_efm" style="display:none">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6 font-weight-bold" id="ac_efm_title">
                                                AC EFM
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 No Configuration
                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                        </div>

                        <div class="container-fluid" id="dc_efm" style="display:none">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6 font-weight-bold" id="dc_efm_title">
                                                DC EFM
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 <u>Inputs</u>
                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 EFM DC Alarm:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_efm_dc_alarm_ip" id="ctrl_efm_dc_alarm_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_efm_dc_alarm_state" name="ctrl_efm_dc_alarm_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 EFM DC Trip:
                                            </div>
                                            <div class="col-md-4">
                                                <select name="ctrl_efm_dc_trip_ip" id="ctrl_efm_dc_trip_ip" style="width:100%">
                                                    <option value="None">None</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="text" id="ctrl_efm_dc_trip_state" name="ctrl_efm_dc_trip_state" readonly="readonly" value=0 style="width:100%; padding:0px; text-align:center;">
                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                        </div>

                        <div class="container-fluid" id="ev_charge" style="display:none">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6 font-weight-bold" id="ev_charge_title">
                                                EV Charge
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 No Configuration
                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                        </div>

                        <div class="container-fluid" id="scada" style="display:none">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6 font-weight-bold" id="scada_title">
                                                SCADA
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 No Configuration
                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                        </div>

                        <div class="container-fluid" id="logging" style="display:none">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6 font-weight-bold" id="logging_title">
                                                Logging
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 No Configuration
                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                        </div>

                        <div class="container-fluid" id="client" style="display:none">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6 font-weight-bold" id="client_title">
                                                Client
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">
                                                 No Configuration
                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <br>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <script>
        // Get the UID for this page to request data from
        path = window.location.pathname;

        function pageLoad()
        {
            let moduleUID = path.split('\(').pop().split('\)')[0];                                  // Grabs the module UID from this page "(<UID>)"

            fetch("/Mod/FlexMod_MspControl" + "_(" + moduleUID + ")" + "/data").then(res => res.json()).then(res => {

                pageUpdate();

                // First we fill in all the select boxes with the available IO configuration *BEFORE* copies are made and they're appended with IDs

                // System Thermal Limits
                let ctrl_temp_warning_min = document.getElementById("ctrl_warning_temp_min");
                let ctrl_temp_warning_max = document.getElementById("ctrl_warning_temp_max");
                let ctrl_temp_alarm_min = document.getElementById("ctrl_alarm_temp_min");
                let ctrl_temp_alarm_max = document.getElementById("ctrl_alarm_temp_max");
                let ctrl_temp_fault_min = document.getElementById("ctrl_fault_temp_min");
                let ctrl_temp_fault_max = document.getElementById("ctrl_fault_temp_max");

                // Inverter Thermal Limits
                let ctrl_inverter_temp_warning_min = document.getElementById("ctrl_inverter_warning_temp_min");
                let ctrl_inverter_temp_warning_max = document.getElementById("ctrl_inverter_warning_temp_max");
                let ctrl_inverter_temp_alarm_min = document.getElementById("ctrl_inverter_alarm_temp_min");
                let ctrl_inverter_temp_alarm_max = document.getElementById("ctrl_inverter_alarm_temp_max");
                let ctrl_inverter_temp_fault_min = document.getElementById("ctrl_inverter_fault_temp_min");
                let ctrl_inverter_temp_fault_max = document.getElementById("ctrl_inverter_fault_temp_max");

                for(let temp=0;temp<100;temp++ )
                {
                    let temp_warn_min = document.createElement("option");
                    let temp_warn_max = document.createElement("option");
                    let temp_alarm_min = document.createElement("option");
                    let temp_alarm_max = document.createElement("option");
                    let temp_fault_min = document.createElement("option");
                    let temp_fault_max = document.createElement("option");

                    let inverter_temp_warn_min = document.createElement("option");
                    let inverter_temp_warn_max = document.createElement("option");
                    let inverter_temp_alarm_min = document.createElement("option");
                    let inverter_temp_alarm_max = document.createElement("option");
                    let inverter_temp_fault_min = document.createElement("option");
                    let inverter_temp_fault_max = document.createElement("option");

                    temp_warn_min.text = String(temp);
                    temp_warn_max.text = String(temp);
                    temp_alarm_min.text = String(temp);
                    temp_alarm_max.text = String(temp);
                    temp_fault_min.text = String(temp);
                    temp_fault_max.text = String(temp);

                    inverter_temp_warn_min.text = String(temp);
                    inverter_temp_warn_max.text = String(temp);
                    inverter_temp_alarm_min.text = String(temp);
                    inverter_temp_alarm_max.text = String(temp);
                    inverter_temp_fault_min.text = String(temp);
                    inverter_temp_fault_max.text = String(temp);

                    ctrl_temp_warning_min.add(temp_warn_min);
                    ctrl_temp_warning_max.add(temp_warn_max);
                    ctrl_temp_alarm_min.add(temp_alarm_min);
                    ctrl_temp_alarm_max.add(temp_alarm_max);
                    ctrl_temp_fault_min.add(temp_fault_min);
                    ctrl_temp_fault_max.add(temp_fault_max);

                    ctrl_inverter_temp_warning_min.add(inverter_temp_warn_min);
                    ctrl_inverter_temp_warning_max.add(inverter_temp_warn_max);
                    ctrl_inverter_temp_alarm_min.add(inverter_temp_alarm_min);
                    ctrl_inverter_temp_alarm_max.add(inverter_temp_alarm_max);
                    ctrl_inverter_temp_fault_min.add(inverter_temp_fault_min);
                    ctrl_inverter_temp_fault_max.add(inverter_temp_fault_max);
                }

                // Digital IO
                mod = 6;
                if(Array.isArray(res["ctrl_system"][mod]))
                {
                    for(let dev=0; dev<res["ctrl_system"][mod].length;dev++)
                    {
                        // Determine module type, defined in flexmod.py. Ugh.
                        moduleType = null;
						
                        devUID = res["ctrl_system"][mod][dev][0];

                        // Collect all the available inputs from connected IO Modules
                        let ctrl_remote_start_ip = document.getElementById("ctrl_remote_start_ip");
                        let ctrl_door_switch_ip = document.getElementById("ctrl_door_switch_ip");
                        let ctrl_smoke_alarm_ip = document.getElementById("ctrl_smoke_alarm_ip");
                        let ctrl_system_healthy_ip = document.getElementById("ctrl_system_healthy_ip");
                        let ctrl_thermal_warning_switch_ip = document.getElementById("ctrl_thermal_warning_switch_ip");
                        let ctrl_thermal_alarm_switch_ip = document.getElementById("ctrl_thermal_alarm_switch_ip");
                        let ctrl_efm_alarm_ip = document.getElementById("ctrl_efm_alarm_ip");
                        let ctrl_gas_pressure_low_ip = document.getElementById("ctrl_gas_pressure_low_ip");
                        let ctrl_ups_fault_ip = document.getElementById("ctrl_ups_fault_ip");
                        let ctrl_neutral_and_earth_ip = document.getElementById("ctrl_neutral_and_earth_ip");

                        let ctrl_li_ion_alarm_any_ip = document.getElementById("ctrl_li_ion_alarm_any_ip");
                        let ctrl_li_ion_sensor_error_ip = document.getElementById("ctrl_li_ion_sensor_error_ip");
                        let ctrl_li_ion_system_alarm_ip = document.getElementById("ctrl_li_ion_system_alarm_ip");

                        let ctrl_tx_temp_60deg_ip = document.getElementById("ctrl_tx_temp_60deg_ip");
                        let ctrl_tx_temp_75deg_ip = document.getElementById("ctrl_tx_temp_75deg_ip");
                        let ctrl_tx_temp_100deg_ip = document.getElementById("ctrl_tx_temp_100deg_ip");
                        let ctrl_top_damper_ip = document.getElementById("ctrl_top_damper_ip");
                        let ctrl_bottom_dampers_ip = document.getElementById("ctrl_bottom_dampers_ip");
                        let ctrl_tx_fans_on_ip = document.getElementById("ctrl_tx_fans_on_ip");
                        let ctrl_3ph_cont_healthy_ip = document.getElementById("ctrl_3ph_cont_healthy_ip");
                        let ctrl_tx_pressure_release_ip = document.getElementById("ctrl_tx_pressure_release_ip");
                        let ctrl_tx_gas_warning_ip = document.getElementById("ctrl_tx_gas_warning_ip");
                        let ctrl_tx_pressure_warning_ip = document.getElementById("ctrl_tx_pressure_warning_ip");
                        //let ctrl_tx_temp_warning1_ip = document.getElementById("ctrl_tx_temp_warning1_ip");
                        //let ctrl_tx_temp_warning2_ip = document.getElementById("ctrl_tx_temp_warning2_ip");

                        let ctrl_efm_dc_alarm_ip = document.getElementById("ctrl_efm_dc_alarm_ip");
                        let ctrl_efm_dc_trip_ip = document.getElementById("ctrl_efm_dc_trip_ip");

                        let dig_input_count = res["ctrl_system"][mod][dev][2][2];
                        for(let input = 0; input < dig_input_count; input++)
                        {
                            let ip_string = String("UID " + devUID + " : Input " + input);

                            let ctrl_remote_start_ip_option = document.createElement("option");
                            let ctrl_door_switch_ip_option = document.createElement("option");
                            let ctrl_smoke_alarm_ip_option = document.createElement("option");
                            let ctrl_system_healthy_ip_option = document.createElement("option");
                            let ctrl_thermal_warning_switch_ip_option = document.createElement("option");
                            let ctrl_thermal_alarm_switch_ip_option = document.createElement("option");
                            let ctrl_efm_alarm_ip_option = document.createElement("option");
                            let ctrl_gas_pressure_low_ip_option = document.createElement("option");
                            let ctrl_ups_fault_ip_option = document.createElement("option");
                            let ctrl_neutral_and_earth_ip_option = document.createElement("option");

                            let ctrl_li_ion_alarm_any_ip_option = document.createElement("option");
                            let ctrl_li_ion_sensor_error_ip_option = document.createElement("option");
                            let ctrl_li_ion_system_alarm_ip_option = document.createElement("option");

                            let ctrl_tx_temp_60deg_ip_option = document.createElement("option");
                            let ctrl_tx_temp_75deg_ip_option = document.createElement("option");
                            let ctrl_tx_temp_100deg_ip_option = document.createElement("option");
                            let ctrl_top_damper_ip_option = document.createElement("option");
                            let ctrl_bottom_dampers_ip_option = document.createElement("option");
                            let ctrl_tx_fans_on_ip_option = document.createElement("option");
                            let ctrl_3ph_cont_healthy_ip_option = document.createElement("option");
                            let ctrl_tx_pressure_release_ip_option = document.createElement("option");
                            let ctrl_tx_gas_warning_ip_option = document.createElement("option");
                            let ctrl_tx_pressure_warning_ip_option = document.createElement("option");
                            //let ctrl_tx_temp_warning1_ip_option = document.createElement("option");
                            //let ctrl_tx_temp_warning2_ip_option = document.createElement("option");

                            let ctrl_efm_dc_alarm_ip_option = document.createElement("option");
                            let ctrl_efm_dc_trip_ip_option = document.createElement("option");

                            ctrl_remote_start_ip_option.text = ip_string;
                            ctrl_door_switch_ip_option.text = ip_string;
                            ctrl_smoke_alarm_ip_option.text = ip_string;
                            ctrl_system_healthy_ip_option.text = ip_string;
                            ctrl_thermal_warning_switch_ip_option.text = ip_string;
                            ctrl_thermal_alarm_switch_ip_option.text = ip_string;
                            ctrl_efm_alarm_ip_option.text = ip_string;
                            ctrl_gas_pressure_low_ip_option.text = ip_string;
                            ctrl_ups_fault_ip_option.text = ip_string;
                            ctrl_neutral_and_earth_ip_option.text = ip_string;

                            ctrl_li_ion_alarm_any_ip_option.text = ip_string;
                            ctrl_li_ion_sensor_error_ip_option.text = ip_string;
                            ctrl_li_ion_system_alarm_ip_option.text = ip_string;

                            ctrl_tx_temp_60deg_ip_option.text = ip_string;
                            ctrl_tx_temp_75deg_ip_option.text = ip_string;
                            ctrl_tx_temp_100deg_ip_option.text = ip_string;
                            ctrl_top_damper_ip_option.text = ip_string;
                            ctrl_bottom_dampers_ip_option.text = ip_string;
                            ctrl_tx_fans_on_ip_option.text = ip_string;
                            ctrl_3ph_cont_healthy_ip_option.text = ip_string;
                            ctrl_tx_pressure_release_ip_option.text = ip_string;
                            ctrl_tx_gas_warning_ip_option.text = ip_string;
                            ctrl_tx_pressure_warning_ip_option.text = ip_string;
                            //ctrl_tx_temp_warning1_ip_option.text = ip_string;
                            //ctrl_tx_temp_warning2_ip_option.text = ip_string;

                            ctrl_efm_dc_alarm_ip_option.text = ip_string;
                            ctrl_efm_dc_trip_ip_option.text = ip_string;

                            ctrl_remote_start_ip.add(ctrl_remote_start_ip_option);
                            ctrl_door_switch_ip.add(ctrl_door_switch_ip_option);
                            ctrl_smoke_alarm_ip.add(ctrl_smoke_alarm_ip_option);
                            ctrl_system_healthy_ip.add(ctrl_system_healthy_ip_option);
                            ctrl_thermal_warning_switch_ip.add(ctrl_thermal_warning_switch_ip_option);
                            ctrl_thermal_alarm_switch_ip.add(ctrl_thermal_alarm_switch_ip_option);
                            ctrl_efm_alarm_ip.add(ctrl_efm_alarm_ip_option);
                            ctrl_gas_pressure_low_ip.add(ctrl_gas_pressure_low_ip_option);
                            ctrl_ups_fault_ip.add(ctrl_ups_fault_ip_option);
                            ctrl_neutral_and_earth_ip.add(ctrl_neutral_and_earth_ip_option);

                            ctrl_li_ion_alarm_any_ip.add(ctrl_li_ion_alarm_any_ip_option);
                            ctrl_li_ion_sensor_error_ip.add(ctrl_li_ion_sensor_error_ip_option);
                            ctrl_li_ion_system_alarm_ip.add(ctrl_li_ion_system_alarm_ip_option);

                            ctrl_tx_temp_60deg_ip.add(ctrl_tx_temp_60deg_ip_option);
                            ctrl_tx_temp_75deg_ip.add(ctrl_tx_temp_75deg_ip_option);
                            ctrl_tx_temp_100deg_ip.add(ctrl_tx_temp_100deg_ip_option);
                            ctrl_top_damper_ip.add(ctrl_top_damper_ip_option);
                            ctrl_bottom_dampers_ip.add(ctrl_bottom_dampers_ip_option);
                            ctrl_tx_fans_on_ip.add(ctrl_tx_fans_on_ip_option);
                            ctrl_3ph_cont_healthy_ip.add(ctrl_3ph_cont_healthy_ip_option);
                            ctrl_tx_pressure_release_ip.add(ctrl_tx_pressure_release_ip_option);
                            ctrl_tx_gas_warning_ip.add(ctrl_tx_gas_warning_ip_option);
                            ctrl_tx_pressure_warning_ip.add(ctrl_tx_pressure_warning_ip_option);
                            //ctrl_tx_temp_warning1_ip.add(ctrl_tx_temp_warning1_ip_option);
                            //ctrl_tx_temp_warning2_ip.add(ctrl_tx_temp_warning2_ip_option);

                            ctrl_efm_dc_alarm_ip.add(ctrl_efm_dc_alarm_ip_option);
                            ctrl_efm_dc_trip_ip.add(ctrl_efm_dc_trip_ip_option);
                        }

                        // Collect all the available outputs from connected IO modules
                        let ctrl_system_enable_op = document.getElementById("ctrl_system_enable_op");
                        let ctrl_smoke_reset_op = document.getElementById("ctrl_smoke_reset_op");
                        let ctrl_gas_release_op = document.getElementById("ctrl_gas_release_op");
                        let ctrl_system_fault_op = document.getElementById("ctrl_system_fault_op");
                        let ctrl_earth_and_neutral_op = document.getElementById("ctrl_earth_and_neutral_op");
                        let ctrl_internal_lighting_op = document.getElementById("ctrl_internal_lighting_op");
                        let ac_gen_enable_op = document.getElementById("ac_gen_enable_op");
                        //let ac_solar_enable_op = document.getElementById("ac_solar_enable_op");

                        let dig_output_count = res["ctrl_system"][mod][dev][2][3];
                        for(let output = 0; output < dig_output_count; output++)
                        {
                            let op_string = String("UID " + devUID + " : Output " + output);

                            let ctrl_system_enable_op_option = document.createElement("option");
                            let ctrl_smoke_reset_op_option = document.createElement("option");
                            let ctrl_gas_release_op_option = document.createElement("option");
                            let ctrl_system_fault_op_option = document.createElement("option");
                            let ctrl_earth_and_neutral_op_option = document.createElement("option");
                            let ctrl_internal_lighting_op_option = document.createElement("option");
                            let ac_gen_enable_op_option = document.createElement("option");
                            let ac_solar_enable_op_option = document.createElement("option");

                            ctrl_system_enable_op_option.text = op_string;
                            ctrl_smoke_reset_op_option.text = op_string;
                            ctrl_gas_release_op_option.text = op_string;
                            ctrl_system_fault_op_option.text = op_string;
                            ctrl_earth_and_neutral_op_option.text = op_string;
                            ctrl_internal_lighting_op_option.text = op_string;
                            ac_gen_enable_op_option.text = op_string;
                            ac_solar_enable_op_option.text = op_string;

                            ctrl_system_enable_op.add(ctrl_system_enable_op_option);
                            ctrl_smoke_reset_op.add(ctrl_smoke_reset_op_option);
                            ctrl_gas_release_op.add(ctrl_gas_release_op_option);
                            ctrl_system_fault_op.add(ctrl_system_fault_op_option);
                            ctrl_earth_and_neutral_op.add(ctrl_earth_and_neutral_op_option);
                            ctrl_internal_lighting_op.add(ctrl_internal_lighting_op_option);
                            ac_gen_enable_op.add(ac_gen_enable_op_option);
                            ac_solar_enable_op.add(ac_solar_enable_op_option);
                        }
                    }
                }

                // Analogue IO
                mod = 7;
                if(Array.isArray(res["ctrl_system"][mod]))
                {
                    for(let dev=0; dev<res["ctrl_system"][mod].length;dev++)
                    {
                        devUID = res["ctrl_system"][mod][dev][0];

                        // Currently only the controller is using out Analogue IO
                        let ctrl_inlet_temp_1_ip = document.getElementById("ctrl_inlet_temp_1_ip");
                        let ctrl_inlet_temp_2_ip = document.getElementById("ctrl_inlet_temp_2_ip");
                        let ctrl_inlet_temp_3_ip = document.getElementById("ctrl_inlet_temp_3_ip");
                        let ctrl_inlet_temp_4_ip = document.getElementById("ctrl_inlet_temp_4_ip");
                        let ctrl_inlet_temp_5_ip = document.getElementById("ctrl_inlet_temp_5_ip");
                        let ctrl_inlet_temp_6_ip = document.getElementById("ctrl_inlet_temp_6_ip");

                        let ana_input_count = res["ctrl_system"][mod][dev][2][2];
                        for(let input = 0; input < ana_input_count; input++)
                        {
                            let ip_string = String("UID " + devUID + " : Input " + input);

                            let ctrl_inlet_temp_1_ip_option = document.createElement("option");
                            let ctrl_inlet_temp_2_ip_option = document.createElement("option");
                            let ctrl_inlet_temp_3_ip_option = document.createElement("option");
                            let ctrl_inlet_temp_4_ip_option = document.createElement("option");
                            let ctrl_inlet_temp_5_ip_option = document.createElement("option");
                            let ctrl_inlet_temp_6_ip_option = document.createElement("option");

                            ctrl_inlet_temp_1_ip_option.text = ip_string;
                            ctrl_inlet_temp_2_ip_option.text = ip_string;
                            ctrl_inlet_temp_3_ip_option.text = ip_string;
                            ctrl_inlet_temp_4_ip_option.text = ip_string;
                            ctrl_inlet_temp_5_ip_option.text = ip_string;
                            ctrl_inlet_temp_6_ip_option.text = ip_string;

                            ctrl_inlet_temp_1_ip.add(ctrl_inlet_temp_1_ip_option);
                            ctrl_inlet_temp_2_ip.add(ctrl_inlet_temp_2_ip_option);
                            ctrl_inlet_temp_3_ip.add(ctrl_inlet_temp_3_ip_option);
                            ctrl_inlet_temp_4_ip.add(ctrl_inlet_temp_4_ip_option);
                            ctrl_inlet_temp_5_ip.add(ctrl_inlet_temp_5_ip_option);
                            ctrl_inlet_temp_6_ip.add(ctrl_inlet_temp_6_ip_option);
                        }
                    }
                }

                let ctrl_aircon_temp_setpoint = document.getElementById("ctrl_aircon_temp_setpoint");
                for(let temp=17;temp<30;temp++)
                {
                    let setpoint = document.createElement("option");
                    setpoint.text = String(temp);
                    ctrl_aircon_temp_setpoint.add(setpoint);
                }

                // Load configured modules //
                for(let mod=0; mod<25; mod++)                                                       // TODO: There are currently only 25 module types.
                {
                    // If a module has been configured,
                    if(Array.isArray(res["ctrl_system"][mod]))
                    {
                        let devId = 1;
						console.log(res["ctrl_system"][mod].length);
                        for(let dev=0; dev<res["ctrl_system"][mod].length;dev++)
                        {
                            // Determine module type, defined in flexmod.py. Ugh.
                            moduleType = null;
                            devUID = res["ctrl_system"][mod][dev][0];
							console.log(devUID);

                            if(mod == 1)     moduleType = "control";
                            if(mod == 2)     moduleType = "battery";
                            if(mod == 3)     moduleType = "inverter";
                            if(mod == 4)     moduleType = "ac_meter";
                            if(mod == 5)     moduleType = "dc_meter";
                            if(mod == 6)     moduleType = "dig_io";
                            if(mod == 7)     moduleType = "ana_io";
                            if(mod == 8)     moduleType = "mixed_io";
                            if(mod == 9)     moduleType = "switch";
                            if(mod == 10)    moduleType = "li-ion";
                            if(mod == 11)    moduleType = "dcdc";
                            if(mod == 12)    moduleType = "aircon";
                            if(mod == 13)    moduleType = "sensor";
                            if(mod == 14)    moduleType = "fuel_cell";
                            if(mod == 15)    moduleType = "ac_gen";
                            if(mod == 16)    moduleType = "ac_wind";
                            if(mod == 17)    moduleType = "ac_solar";
                            if(mod == 18)    moduleType = "dc_solar";
                            if(mod == 19)    moduleType = "ac_efm";
                            if(mod == 20)    moduleType = "dc_efm";
                            if(mod == 21)    moduleType = "ev_charge";
                            if(mod == 22)    moduleType = "scada";
                            if(mod == 23)    moduleType = "logging";
                            if(mod == 24)    moduleType = "client";

                            moduleDiv = document.getElementById(moduleType);

                            if(moduleType != null)
                            {
                                let clone = moduleDiv.cloneNode(true);                              // Clone the module template (after being configured)
                                clone.id = moduleType + "_" + devUID;                               // Append its serial number to the parent div
                                clone.style.display = "block";                                      // Make it visible
                                moduleDiv.after(clone);                                             // Place it below the template

                                const parent = document.getElementById(clone.id);                   // Find the children recursively

                                function findChildren(parent)
                                {
                                    let children = Array.from(parent.children);

                                    let ids = children.map(element => {
                                        if(element.id == moduleType + "_title")
                                        {
                                            element.innerHTML = element.innerHTML + " - " + devUID;
                                        }
                                        else if(element.id != "")
                                        {
                                            element.id = element.id + "_" + devUID;                 // Append the module serial number to its controls
                                            element.name = element.name + "_" + devUID;
                                        }
                                        findChildren(element);                                      // Call it from itself to continue searching
                                    });
                                }
                                findChildren(parent);
                            }
                        }
                    }
                }

                // Set up handlers to catch all button and selector events
                let form = document.querySelectorAll("form");

                function doggoFetch(formData)
                {
                    fetch("/Mod/FlexMod_MspControl" + "_(" + moduleUID + ")",
                    {
                       body: formData,
                       method: "post"
                    })
                    .catch(error => console.error('Error', error))
                }

                for(let x=0; x<form.length; x++)                                                            // We're preparing all form data for submission...
                {
                    form[x].onsubmit = function(event){
                        doggoFetch(new FormData(event.target));
                        return false;                                                                       // ...and preventing the page from refreshing!
                    }

                    form[x].addEventListener('change', function() {
                        doggoFetch(new FormData(event.target.form));
                        return false;
                    });
                }

                // Update Module Information
                document.getElementById("ctrl_name").innerHTML = res["ctrl_name"];
                document.getElementById("ctrl_man").innerHTML = res["ctrl_man"];
                document.getElementById("ctrl_fwver").innerHTML = res["ctrl_fwver"];
                document.getElementById("ctrl_serno").innerHTML = res["ctrl_serno"];
                document.getElementById("ctrl_constate").innerHTML = res["ctrl_constate"];
                document.getElementById("ctrl_ipaddr_head").innerHTML = res["ctrl_ipaddr_head"];
                document.getElementById("ctrl_ipaddr_local").innerHTML = res["ctrl_ipaddr_local"];

                // Update parameter data from database
                for(control in res)
                {
                    ctrl = document.getElementById(control);
                    if(ctrl)
                    {
                        // What type is it?
                        ctrl.value = res[control];
                    }
                }
            })
            .catch(error => console.error('Error', error))
        };

        // Wait for page to load
        document.addEventListener('DOMContentLoaded', function () {
            pageLoad();                                                                           // Update data on page load
        });

        function pageUpdate()
        {
            // Set the clock
            let date = new Date();
            clock = document.getElementById("clock").innerHTML = date.toLocaleString('en-GB', { hour12: false });

            let controllerUID = path.split('\(').pop().split('\)')[0];                                  // Grabs the module UID from this page "(<UID>)"

            fetch("/Mod/FlexMod_MspControl" + "_(" + controllerUID + ")" + "/data").then(res => res.json()).then(res => {

                // Load configured modules
                for(let mod=0; mod<25; mod++)                                                       // TODO: There are currently only 25 module types.
                {
                    // If a module has been configured,

                    if(Array.isArray(res["ctrl_system"][mod]))
                    {
                        let devId = 1;

                        for(let dev=0; dev<res["ctrl_system"][mod].length;dev++)
                        {
                            // Determine module type, defined in flexmod.py. Ugh.
                            moduleType = null;
                            let moduleUID = res["ctrl_system"][mod][dev][0];
							console.log(res["ctrl_system"]);
                            if(mod == 1)
                            {
                                moduleType = "control";
				
                                if(res["ctrl_system"][mod][dev][2][2] & 0x01)
                                    document.getElementById("ctrl_enable_echo").innerHTML = "Remote Enable Requested";
                                else
                                    document.getElementById("ctrl_enable_echo").innerHTML = "";

                                if(res["ctrl_system"][mod][dev][2][2] & 0x02)
                                    document.getElementById("ctrl_pilot_echo").innerHTML = "Remote Ctrl Requested";
                                else
                                    document.getElementById("ctrl_pilot_echo").innerHTML = "";

                                if(res["ctrl_system"][mod][dev][2][3] & 0x01)
                                {
                                    document.getElementById("ctrl_enable_set").innerHTML = "Disable";
<!--                                    document.getElementById("ctrl_enable_set").setAttribute("class", "btn btn-danger btn-sm");-->
                                }
                                else
                                {
                                    document.getElementById("ctrl_enable_set").innerHTML = "Enable";
<!--                                    document.getElementById("ctrl_enable_set").setAttribute("class", "btn btn-success btn-sm");-->
                                }

                                if(res["ctrl_system"][mod][dev][2][3] & 0x02)
                                    document.getElementById("ctrl_pilot_set").innerHTML = "Local";
                                else
                                    document.getElementById("ctrl_pilot_set").innerHTML = "Remote";

                                let ctrl_uptime = document.querySelectorAll(`[id^="ctrl_uptime"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_uptime.length;x++)
                                {
                                    let uptime_days = res["ctrl_system"][mod][dev][2][10] / 24;
                                    let uptime_hrs = res["ctrl_system"][mod][dev][2][10] % 24;
                                    uptime_text = "Days: " + parseInt(uptime_days) + ", Hours: " + parseInt(uptime_hrs);
                                    document.getElementById(ctrl_uptime[x].id).value = uptime_text;
                                }
                            }
                            if(mod == 2)     moduleType = "battery";
                            if(mod == 3)     moduleType = "inverter";
                            if(mod == 4)     moduleType = "ac_meter";
                            if(mod == 5)     moduleType = "dc_meter";
                            if(mod == 6)
                            {
                                moduleType = "dig_io";

                                // Controller INPUTS
                                function getInputState(dig_io)
                                {
                                    if(dig_io != "None")
                                    {
                                        let uid = dig_io.split("UID ").pop().split(" :")[0];        // We're getting the IO device UID from "UID X : Input Y"
                                        let input = dig_io.split("Input ")[1];                      // And also the user-selected Input

                                        let state = 0
                                        if(moduleUID == uid)
                                        {
                                            if (input < 8)
                                                state = (res["ctrl_system"][mod][dev][2][4] >> input) & 0x01;
                                            else if (input < 16)
                                                state = (res["ctrl_system"][mod][dev][2][6] >> input-8) & 0x01;
                                            else if (input < 24)
                                                state = (res["ctrl_system"][mod][dev][2][8] >> input-16) & 0x01;
                                            else if (input < 32)
                                                state = (res["ctrl_system"][mod][dev][2][10] >> input-24) & 0x01;
                                            return state;
                                        }
                                        return null;
                                    }
                                }

                                // If you have multiple of the same module and have to assign their state based on a dynamic ID.
                                let ctrl_remote_start_ip = document.querySelectorAll(`[id^="ctrl_remote_start_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_remote_start_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_remote_start_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_remote_start_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_door_switch_ip = document.querySelectorAll(`[id^="ctrl_door_switch_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_door_switch_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_door_switch_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_door_switch_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_smoke_alarm_ip = document.querySelectorAll(`[id^="ctrl_smoke_alarm_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_smoke_alarm_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_smoke_alarm_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_smoke_alarm_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_system_healthy_ip = document.querySelectorAll(`[id^="ctrl_system_healthy_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_system_healthy_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_system_healthy_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_system_healthy_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_thermal_warning_switch_ip = document.querySelectorAll(`[id^="ctrl_thermal_warning_switch_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_thermal_warning_switch_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_thermal_warning_switch_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_thermal_warning_switch_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_thermal_alarm_switch_ip = document.querySelectorAll(`[id^="ctrl_thermal_alarm_switch_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_thermal_alarm_switch_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_thermal_alarm_switch_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_thermal_alarm_switch_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_efm_alarm_ip = document.querySelectorAll(`[id^="ctrl_efm_alarm_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_efm_alarm_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_efm_alarm_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_efm_alarm_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_gas_pressure_low_ip = document.querySelectorAll(`[id^="ctrl_gas_pressure_low_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_gas_pressure_low_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_gas_pressure_low_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_gas_pressure_low_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_ups_fault_ip = document.querySelectorAll(`[id^="ctrl_ups_fault_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_ups_fault_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_ups_fault_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_ups_fault_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_neutral_and_earth_ip = document.querySelectorAll(`[id^="ctrl_neutral_and_earth_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_neutral_and_earth_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_neutral_and_earth_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_neutral_and_earth_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_li_ion_alarm_any_ip = document.querySelectorAll(`[id^="ctrl_li_ion_alarm_any_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_li_ion_alarm_any_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_li_ion_alarm_any_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_li_ion_alarm_any_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_li_ion_sensor_error_ip = document.querySelectorAll(`[id^="ctrl_li_ion_sensor_error_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_li_ion_sensor_error_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_li_ion_sensor_error_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_li_ion_sensor_error_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_li_ion_system_alarm_ip = document.querySelectorAll(`[id^="ctrl_li_ion_system_alarm_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_li_ion_system_alarm_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_li_ion_system_alarm_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_li_ion_system_alarm_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_tx_temp_60deg_ip = document.querySelectorAll(`[id^="ctrl_tx_temp_60deg_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_tx_temp_60deg_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_tx_temp_60deg_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_tx_temp_60deg_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_tx_temp_75deg_ip = document.querySelectorAll(`[id^="ctrl_tx_temp_75deg_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_tx_temp_75deg_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_tx_temp_75deg_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_tx_temp_75deg_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_tx_temp_100deg_ip = document.querySelectorAll(`[id^="ctrl_tx_temp_100deg_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_tx_temp_100deg_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_tx_temp_100deg_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_tx_temp_100deg_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_top_damper_ip = document.querySelectorAll(`[id^="ctrl_top_damper_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_top_damper_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_top_damper_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_top_damper_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_bottom_dampers_ip = document.querySelectorAll(`[id^="ctrl_bottom_dampers_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_bottom_dampers_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_bottom_dampers_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_bottom_dampers_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_tx_fans_on_ip = document.querySelectorAll(`[id^="ctrl_tx_fans_on_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_tx_fans_on_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_tx_fans_on_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_tx_fans_on_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_3ph_cont_healthy_ip = document.querySelectorAll(`[id^="ctrl_3ph_cont_healthy_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_3ph_cont_healthy_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_3ph_cont_healthy_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_3ph_cont_healthy_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_tx_pressure_release_ip = document.querySelectorAll(`[id^="ctrl_tx_pressure_release_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_tx_pressure_release_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_tx_pressure_release_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_tx_pressure_release_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_tx_gas_warning_ip = document.querySelectorAll(`[id^="ctrl_tx_gas_warning_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_tx_gas_warning_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_tx_gas_warning_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_tx_gas_warning_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_tx_pressure_warning_ip = document.querySelectorAll(`[id^="ctrl_tx_pressure_warning_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_tx_pressure_warning_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_tx_pressure_warning_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_tx_pressure_warning_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_efm_dc_alarm_ip = document.querySelectorAll(`[id^="ctrl_efm_dc_alarm_ip"]`);
                                for(x=0;x<ctrl_efm_dc_alarm_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_efm_dc_alarm_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_efm_dc_alarm_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_efm_dc_trip_ip = document.querySelectorAll(`[id^="ctrl_efm_dc_trip_ip"]`);
                                for(x=0;x<ctrl_efm_dc_trip_ip.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_efm_dc_trip_ip[x].id).value;
                                    dig_io_state = getInputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_efm_dc_trip_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                // Controller OUTPUTS
                                function getOutputState(dig_io)
                                {
                                    if(dig_io != "None")
                                    {
                                        let uid = dig_io.split("UID ").pop().split(" :")[0];        // We're getting the IO device UID from "UID X : Input Y"
                                        let output = dig_io.split("Output ")[1];                    // And also the user-selected Input

                                        if(moduleUID == uid)
                                        {
                                            let state = 0;
                                            if (output < 8)
                                                state = (res["ctrl_system"][mod][dev][2][5] >> (output*2)) & 0x03;
                                            else if (output < 16)
                                                state = (res["ctrl_system"][mod][dev][2][7] >> (output*2)) & 0x03;
                                            else if (output < 24)
                                                state = (res["ctrl_system"][mod][dev][2][9] >> (output*2)) & 0x03;
                                            else if (output < 32)
                                                state = (res["ctrl_system"][mod][dev][2][11] >> (output*2)) & 0x03;

                                            //let state = String(res["ctrl_system"][mod][dev][2][(output*2)+1]);   // x2 skips over the input bytes
                                            return state;
                                        }
                                        return null;
                                    }
                                }

                                let ctrl_system_enable_op = document.querySelectorAll(`[id^="ctrl_system_enable_op"]`);
                                for(x=0;x<ctrl_system_enable_op.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_system_enable_op[x].id).value;
                                    dig_io_state = getOutputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_system_enable_op[x].id).replace("_op", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_smoke_reset_op = document.querySelectorAll(`[id^="ctrl_smoke_reset_op"]`);
                                for(x=0;x<ctrl_smoke_reset_op.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_smoke_reset_op[x].id).value;
                                    dig_io_state = getOutputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_smoke_reset_op[x].id).replace("_op", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_gas_release_op = document.querySelectorAll(`[id^="ctrl_gas_release_op"]`);
                                for(x=0;x<ctrl_gas_release_op.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_gas_release_op[x].id).value;
                                    dig_io_state = getOutputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_gas_release_op[x].id).replace("_op", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_system_fault_op = document.querySelectorAll(`[id^="ctrl_system_fault_op"]`);
                                for(x=0;x<ctrl_system_fault_op.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_system_fault_op[x].id).value;
                                    dig_io_state = getOutputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_system_fault_op[x].id).replace("_op", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_earth_and_neutral_op = document.querySelectorAll(`[id^="ctrl_earth_and_neutral_op"]`);
                                for(x=0;x<ctrl_earth_and_neutral_op.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_earth_and_neutral_op[x].id).value;
                                    dig_io_state = getOutputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_earth_and_neutral_op[x].id).replace("_op", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }

                                let ctrl_internal_lighting_op = document.querySelectorAll(`[id^="ctrl_internal_lighting_op"]`);
                                for(x=0;x<ctrl_internal_lighting_op.length;x++)
                                {
                                    let dig_io = document.getElementById(ctrl_internal_lighting_op[x].id).value;
                                    dig_io_state = getOutputState(dig_io);
                                    if(dig_io_state != null)
                                    {
                                        let state_id = (ctrl_internal_lighting_op[x].id).replace("_op", "_state");
                                        document.getElementById(state_id).value = dig_io_state;
                                    }
                                }
                            }
                            if(mod == 7)
                            {
                                moduleType = "ana_io";

                                // Controller Options
                                function getInputState(ana_io)
                                {
                                    if(ana_io != "None")
                                    {
                                        let uid = ana_io.split("UID ").pop().split(" :")[0];        // We're getting the IO device UID from "UID X : Input Y"
                                        let input = parseInt(ana_io.split("Input ")[1]);                      // And also the user-selected Input

                                        if(moduleUID == uid)
                                        {
                                            let state = String(res["ctrl_system"][mod][dev][2][input+4]);
                                            return state;
                                        }
                                        return null;
                                    }
                                }

                                // This assumes we have one controller (which for now must be true). So we access the known IDs...
                                let ctrl_inlet_temp_1_ip = document.querySelectorAll(`[id^="ctrl_inlet_temp_1_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_inlet_temp_1_ip.length;x++)
                                {
                                    let ana_io = document.getElementById(ctrl_inlet_temp_1_ip[x].id).value;
                                    ana_io_state = getInputState(ana_io);
                                    if(ana_io_state != null)
                                    {
                                        let state_id = (ctrl_inlet_temp_1_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = ana_io_state;
                                    }
                                }

                                let ctrl_inlet_temp_2_ip = document.querySelectorAll(`[id^="ctrl_inlet_temp_2_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_inlet_temp_2_ip.length;x++)
                                {
                                    let ana_io = document.getElementById(ctrl_inlet_temp_2_ip[x].id).value;
                                    ana_io_state = getInputState(ana_io);
                                    if(ana_io_state != null)
                                    {
                                        let state_id = (ctrl_inlet_temp_2_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = ana_io_state;
                                    }
                                }

                                let ctrl_inlet_temp_3_ip = document.querySelectorAll(`[id^="ctrl_inlet_temp_3_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_inlet_temp_3_ip.length;x++)
                                {
                                    let ana_io = document.getElementById(ctrl_inlet_temp_3_ip[x].id).value;
                                    ana_io_state = getInputState(ana_io);
                                    if(ana_io_state != null)
                                    {
                                        let state_id = (ctrl_inlet_temp_3_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = ana_io_state;
                                    }
                                }

                                let ctrl_inlet_temp_4_ip = document.querySelectorAll(`[id^="ctrl_inlet_temp_4_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_inlet_temp_4_ip.length;x++)
                                {
                                    let ana_io = document.getElementById(ctrl_inlet_temp_4_ip[x].id).value;
                                    ana_io_state = getInputState(ana_io);
                                    if(ana_io_state != null)
                                    {
                                        let state_id = (ctrl_inlet_temp_4_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = ana_io_state;
                                    }
                                }

                                let ctrl_inlet_temp_5_ip = document.querySelectorAll(`[id^="ctrl_inlet_temp_5_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_inlet_temp_5_ip.length;x++)
                                {
                                    let ana_io = document.getElementById(ctrl_inlet_temp_5_ip[x].id).value;
                                    ana_io_state = getInputState(ana_io);
                                    if(ana_io_state != null)
                                    {
                                        let state_id = (ctrl_inlet_temp_5_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = ana_io_state;
                                    }
                                }

                                let ctrl_inlet_temp_6_ip = document.querySelectorAll(`[id^="ctrl_inlet_temp_6_ip"]`);       // <id><_dynamic uid>
                                for(x=0;x<ctrl_inlet_temp_6_ip.length;x++)
                                {
                                    let ana_io = document.getElementById(ctrl_inlet_temp_6_ip[x].id).value;
                                    ana_io_state = getInputState(ana_io);
                                    if(ana_io_state != null)
                                    {
                                        let state_id = (ctrl_inlet_temp_6_ip[x].id).replace("_ip", "_state");
                                        document.getElementById(state_id).value = ana_io_state;
                                    }
                                }
                            }
                            if(mod == 8)     moduleType = "mixed_io";
                            if(mod == 9)     moduleType = "switch";
                            if(mod == 10)    moduleType = "li-ion";
                            if(mod == 11)    moduleType = "dcdc";
                            if(mod == 12)    moduleType = "aircon";
                            if(mod == 13)    moduleType = "sensor";
                            if(mod == 14)    moduleType = "fuel_cell";
                            if(mod == 15)    moduleType = "ac_gen";
                            if(mod == 16)    moduleType = "ac_wind";
                            if(mod == 17)    moduleType = "ac_solar";
                            if(mod == 18)    moduleType = "dc_solar";
                            if(mod == 19)    moduleType = "ac_efm";
                            if(mod == 20)    moduleType = "dc_efm";
                            if(mod == 21)    moduleType = "ev_charge";
                            if(mod == 22)    moduleType = "scada";
                            if(mod == 23)    moduleType = "logging";
                            if(mod == 24)    moduleType = "client";

                            //moduleDiv = document.getElementById(moduleType);
                        }
                    }
                }
            })
            .catch(error => console.error('Error', error))
        };

        // Request data for this page
        let pageInterval = setInterval(function()
        {
            pageUpdate();
        }, 1000);
        </script>

        <!-- Optional JavaScript -->
        <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    </body>
</html>